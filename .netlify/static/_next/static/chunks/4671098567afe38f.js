(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let s=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:n,...c},h)=>(0,a.createElement)("svg",{ref:h,...l,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:s("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...n.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]])),o=(e,t)=>{let l=(0,a.forwardRef)(({className:l,...o},d)=>(0,a.createElement)(i,{ref:d,iconNode:t,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...o}));return l.displayName=r(e),l},d=o("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),n=o("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);function c({onUploadComplete:e}){let[s,r]=(0,a.useState)(!1),l=async t=>{if(!t.target.files?.length)return;r(!0);let a=t.target.files[0],s=new FormData;s.append("file",a);try{let t=await fetch("/api/upload",{method:"POST",body:s}),a=await t.json();await fetch("/api/assets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({publicId:a.public_id,url:a.secure_url,format:a.format,width:a.width,height:a.height})}),e()}catch(e){alert("Upload failed")}finally{r(!1)}};return(0,t.jsx)("div",{className:"border-2 border-dashed border-gray-700 rounded-xl p-8 text-center hover:border-blue-500 transition-colors bg-gray-800/50",children:(0,t.jsxs)("label",{className:"cursor-pointer flex flex-col items-center gap-4",children:[s?(0,t.jsx)(n,{className:"w-10 h-10 animate-spin text-blue-400"}):(0,t.jsx)(d,{className:"w-10 h-10 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-300 font-medium",children:s?"Uploading to PixelDrop...":"Drop image or click to upload"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:l,disabled:s})]})})}let h=o("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function p(){let[e,s]=(0,a.useState)([]),r=async()=>{let e=await fetch("/api/assets");s(await e.json())};return(0,a.useEffect)(()=>{r()},[]),(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8 font-sans",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-12",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"PixelDrop"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Content Pipeline & Auto-Scheduler"})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:e.filter(e=>"available"===e.status).length}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"AVAILABLE"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-400",children:e.filter(e=>"posted"===e.status).length}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"POSTED"})]})]})]}),(0,t.jsx)(c,{onUploadComplete:r}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:e.map(e=>(0,t.jsxs)("div",{className:"group relative aspect-square bg-gray-800 rounded-xl overflow-hidden border border-gray-700 hover:border-blue-500 transition-all",children:[(0,t.jsx)("img",{src:e.url,alt:"",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"available"===e.status?"bg-blue-500/20 text-blue-300":"posted"===e.status?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"}`,children:e.status.toUpperCase()})})}),"posted"===e.status&&(0,t.jsx)("div",{className:"absolute top-2 right-2 bg-green-500 rounded-full p-1",children:(0,t.jsx)(h,{className:"w-4 h-4 text-white"})})]},e.id))})]})})}e.s(["default",()=>p],52683)}]);